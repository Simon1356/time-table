(function(e){function t(t){for(var i,o,s=t[0],r=t[1],c=t[2],p=0,d=[];p<s.length;p++)o=s[p],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);u&&u(t);while(d.length)d.shift()();return l.push.apply(l,c||[]),n()}function n(){for(var e,t=0;t<l.length;t++){for(var n=l[t],i=!0,s=1;s<n.length;s++){var r=n[s];0!==a[r]&&(i=!1)}i&&(l.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},a={app:0},l=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/time-table/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],r=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=r;l.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"30fc":function(e,t,n){"use strict";n("f94b")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),a=n("5c96"),l=n.n(a),o=(n("0fae"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("MainPage",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)}),s=[],r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-container",[i("el-header",[i("el-image",{staticStyle:{width:"50px",height:"50px"},attrs:{src:n("5b62"),fit:"fit"}}),i("div",{staticClass:"grand-title"},[e._v(" Simon工具箱时刻表管理系统 ")])],1),i("div",{staticClass:"search-box"},[i("el-input",{attrs:{placeholder:"搜索车次(仅数字部分)"},model:{value:e.searchName,callback:function(t){e.searchName=t},expression:"searchName"}},[i("i",{staticClass:"el-icon-search",attrs:{slot:"prepend"},slot:"prepend"})])],1),i("el-main",[i("div",{staticClass:"container"},[i("div",{staticClass:"head-bar"},[i("input",{attrs:{type:"file",id:"fileInput"}}),i("el-button",{attrs:{type:"primary",round:"",plain:"",size:"normal"},on:{click:e.goRead}},[e._v("读取")]),i("el-button",{attrs:{type:"warning",round:"",plain:"",size:"normal"},on:{click:e.showDetail}},[e._v("检视")]),i("el-button",{attrs:{type:"success",round:"",plain:"",size:"normal"},on:{click:e.goSave}},[e._v("保存")])],1),i("div",{staticClass:"basic-info"},[i("el-form",{ref:"basicInfo",attrs:{model:e.config,"label-width":"100px"}},[i("div",{staticStyle:{"margin-bottom":"8px","font-weight":"bold"}},[e._v("基础信息")]),i("el-form-item",{attrs:{label:"线路显示名称"}},[i("el-input",{model:{value:e.config.lineName,callback:function(t){e.$set(e.config,"lineName",t)},expression:"config.lineName"}})],1),i("el-form-item",{attrs:{label:"列表中位置"}},[i("el-input-number",{attrs:{min:0,max:10,label:"列表中位置"},model:{value:e.config.pos,callback:function(t){e.$set(e.config,"pos",t)},expression:"config.pos"}})],1),i("el-form-item",{attrs:{label:"滚动通知"}},[i("el-input",{attrs:{type:"textarea",rows:3,placeholder:"时刻表更新于：后面的内容"},model:{value:e.config.updateDate,callback:function(t){e.$set(e.config,"updateDate",t)},expression:"config.updateDate"}})],1),i("el-form-item",{attrs:{label:"车次位数"}},[i("el-input-number",{attrs:{min:3,max:4},model:{value:e.num,callback:function(t){e.num=t},expression:"num"}})],1)],1)],1),i("el-dialog",{staticStyle:{"text-align":"unset"},attrs:{title:"录入车次",visible:e.dialogVisible,width:"500px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("el-form",{attrs:{model:e.oneTrain}},[i("el-form-item",{attrs:{label:"时刻"}},[e._l(e.oneTrain.timeTags,(function(t){return i("el-tag",{key:t,attrs:{closable:"","disable-transitions":!1},on:{close:function(n){return e.handleClose(t)}}},[e._v(" "+e._s(t)+" ")])})),e.inputVisible?i("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:e.handleInputConfirm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputConfirm(t)}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}):i("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:e.showInput}},[e._v("+ New Tag")])],2),i("el-form-item",{attrs:{label:"经停车站"}},[i("el-checkbox-group",{model:{value:e.oneTrain.selectedStations,callback:function(t){e.$set(e.oneTrain,"selectedStations",t)},expression:"oneTrain.selectedStations"}},e._l(e.curTable,(function(e,t){return i("el-checkbox",{key:t,attrs:{label:e.stationName,name:e.stationName}})})),1)],1),i("el-form-item",{attrs:{label:"信息"}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.oneTrain.type,callback:function(t){e.$set(e.oneTrain,"type",t)},expression:"oneTrain.type"}})],1),i("el-form-item",{attrs:{label:"标签"}},[i("div",{staticStyle:{display:"flex","justify-content":"space-evenly","align-items":"center"}},[i("span",{staticClass:"switch-label"},[e._v("蓝标签")]),i("el-switch",{model:{value:e.oneTrain.isFull,callback:function(t){e.$set(e.oneTrain,"isFull",t)},expression:"oneTrain.isFull"}}),i("span",{staticClass:"switch-label"},[e._v("橙标签")]),i("el-switch",{model:{value:e.oneTrain.isSub,callback:function(t){e.$set(e.oneTrain,"isSub",t)},expression:"oneTrain.isSub"}})],1)])],1),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.confirmOneTrain}},[e._v("确 定")])],1)],1),e._l([e.config.tableShang,e.config.tableXia],(function(t,n){return i("div",{key:n},[i("div",{staticClass:"direction-title-bar"},[i("el-button",{attrs:{type:"info",size:"small",plain:"",icon:"el-icon-edit"},on:{click:function(n){return e.openDialog(t)}}},[e._v("录入车次")]),i("el-tag",{attrs:{color:"#133977"}},[e._v(e._s(e.title[n]))])],1),i("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"",data:t}},[i("el-table-column",{attrs:{"header-align":"center",align:"center",label:"移动",width:"80"},scopedSlots:e._u([{key:"default",fn:function(n){return[i("div",{staticClass:"move-part"},[i("el-button",{attrs:{disabled:0==n.$index,type:"info",plain:"",size:"mini",icon:"el-icon-caret-top"},on:{click:function(i){return e.moveUp(t,n.$index)}}}),i("el-button",{attrs:{disabled:n.$index==t.length-1,type:"info",plain:"",size:"mini",icon:"el-icon-caret-bottom"},on:{click:function(i){return e.moveDown(t,n.$index)}}})],1)]}}],null,!0)}),i("el-table-column",{attrs:{align:"center",label:"车站",width:"180"},scopedSlots:e._u([{key:"default",fn:function(n){return[i("el-button",{attrs:{type:"danger",plain:"",round:"",size:"small",icon:"el-icon-delete"},on:{click:function(i){return e.deleteStation(t,n.$index)}}}),i("el-input",{staticClass:"station-name",attrs:{size:"small",placeholder:"车站名"},model:{value:n.row.stationName,callback:function(t){e.$set(n.row,"stationName",t)},expression:"scope.row.stationName"}}),i("div",{staticClass:"station-name-switch"},[i("span",{staticClass:"switch-label"},[e._v("蓝标签")]),i("el-switch",{attrs:{"active-color":"#6dc8ef","inactive-color":"#eee"},model:{value:n.row.full,callback:function(t){e.$set(n.row,"full",t)},expression:"scope.row.full"}})],1),i("div",{staticClass:"station-name-switch"},[i("span",{staticClass:"switch-label"},[e._v("橙标签")]),i("el-switch",{attrs:{"active-color":"orange","inactive-color":"#eee"},model:{value:n.row.sub,callback:function(t){e.$set(n.row,"sub",t)},expression:"scope.row.sub"}})],1)]}}],null,!0)}),i("el-table-column",{attrs:{"header-align":"left",align:"left",label:"时刻"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._l(t.row.depart,(function(n,a){return i("div",{directives:[{name:"show",rawName:"v-show",value:n.type.substring(1,e.num+1).includes(e.searchName)||""==e.searchName,expression:"\n                    item.type.substring(1, num + 1).includes(searchName) ||\n                      searchName == ''\n                  "}],key:a,staticClass:"time"},[i("div",{staticStyle:{display:"flex","justify-content":"space-evenly","align-items":"center"}},[i("el-input",{attrs:{placeholder:"时刻"},model:{value:n.time,callback:function(t){e.$set(n,"time",t)},expression:"item.time"}}),i("span",{staticClass:"switch-label"},[e._v("蓝")]),i("el-switch",{attrs:{"active-color":"#6dc8ef","inactive-color":"#eee"},model:{value:n.isFull,callback:function(t){e.$set(n,"isFull",t)},expression:"item.isFull"}}),i("span",{staticClass:"switch-label"},[e._v("橙")]),i("el-switch",{attrs:{"active-color":"orange","inactive-color":"#eee"},model:{value:n.isSub,callback:function(t){e.$set(n,"isSub",t)},expression:"item.isSub"}}),i("el-tag",{attrs:{color:"#"+n.type.substring(1,4)+n.type.substring(3,4)+n.type.substring(2,3)+n.type.substring(1,2)}},[e._v(e._s(n.type.substring(0,e.num+1)))])],1),i("el-input",{staticStyle:{height:"33px"},attrs:{type:"textarea",placeholder:"车次详情"},model:{value:n.type,callback:function(t){e.$set(n,"type",t)},expression:"item.type"}}),i("div",{staticClass:"btns"},[i("el-button",{attrs:{disabled:0==a,icon:"el-icon-caret-left",type:"info",size:"mini",plain:"",round:""},on:{click:function(n){return e.moveLeft(t.row.depart,a)}}}),i("el-button",{attrs:{type:"danger",size:"mini",plain:"",round:""},on:{click:function(n){return e.remove(t.row.depart,a)}}},[e._v("删除")]),i("el-button",{attrs:{type:"primary",size:"mini",round:"",plain:""},on:{click:function(n){return e.add(t.row.depart,a)}}},[e._v("向右复制")]),i("el-button",{attrs:{disabled:a==t.row.depart.length-1,icon:"el-icon-caret-right",type:"info",size:"mini",plain:"",round:""},on:{click:function(n){return e.moveRight(t.row.depart,a)}}})],1)],1)})),i("el-button",{directives:[{name:"show",rawName:"v-show",value:""==e.searchName,expression:"searchName == ''"}],staticStyle:{"vertical-align":"super"},attrs:{type:"primary",icon:"el-icon-plus",circle:"",plain:""},on:{click:function(n){return e.addBlank(t.row.depart)}}})]}}],null,!0)})],1),i("el-button",{staticClass:"add-staation-btn",attrs:{type:"primary",size:"small",icon:"el-icon-circle-plus-outline"},on:{click:function(n){return e.addStation(t)}}},[e._v("添加车站")])],1)})),i("div",{staticClass:"copyright"},[i("el-image",{staticStyle:{width:"50px",height:"50px"},attrs:{src:n("fcaa"),fit:"fit"}}),i("div",[e._v(" Simon工具箱时刻表管理系统，由Up主Simon1356开发于2021年1月21日。 ")])],1)],2)])],1)],1)},c=[],u=(n("c740"),n("4160"),n("c975"),n("a15b"),n("a434"),n("d3b7"),n("3ca3"),n("159b"),n("ddb0"),n("2b3d"),{name:"MainPage",data:function(){return{curTable:[],inputVisible:!1,inputValue:"",dialogVisible:!1,oneTrain:{isFull:!1,isSub:!1,type:"S次：终点：。停",timeTags:[],selectedStations:[]},num:3,searchName:"",config:{lineName:"",pos:"",tableShang:[],tableXia:[],updateDate:""},title:["上行时刻表","下行时刻表"]}},props:{msg:String},methods:{openDialog:function(e){var t=this;this.curTable=e,this.curTable.length<1?alert("请先添加车站或者导入"):this.$nextTick((function(){t.dialogVisible=!0}))},confirmOneTrain:function(){var e=this;console.log("oneTrain:",this.oneTrain),this.oneTrain.selectedStations.length==this.oneTrain.timeTags.length?this.curTable.forEach((function(t){var n=t.stationName,i=e.oneTrain.selectedStations.findIndex((function(e){return e==n}));if(i>-1){var a={isFull:e.oneTrain.isFull,isSub:e.oneTrain.isSub,time:e.oneTrain.timeTags[i],type:e.oneTrain.type};t.depart.splice(t.depart.length,0,a)}})):alert("选择的站点数量与时刻数量长度不一致")},handleClose:function(e){this.oneTrain.timeTags.splice(this.oneTrain.timeTags.indexOf(e),1)},showInput:function(){var e=this;this.inputVisible=!0,this.$nextTick((function(){e.$refs.saveTagInput.$refs.input.focus()}))},handleInputConfirm:function(){var e=this.inputValue;e&&this.oneTrain.timeTags.push(e),this.inputVisible=!1,this.inputValue=""},moveUp:function(e,t){var n=e[t-1];e.splice(t-1,1,e[t]),e.splice(t,1,n)},moveDown:function(e,t){var n=e[t+1];e.splice(t+1,1,e[t]),e.splice(t,1,n)},deleteStation:function(e,t){e.splice(t,1)},addStation:function(e){var t={depart:[],stationName:""};e.splice(e.length,0,t)},moveLeft:function(e,t){var n=e[t-1];e.splice(t-1,1,e[t]),e.splice(t,1,n)},moveRight:function(e,t){var n=e[t+1];e.splice(t+1,1,e[t]),e.splice(t,1,n)},addBlank:function(e){var t={isFull:!1,isSub:!1,time:"",type:"S次：终点：。停"};e.splice(e.length,0,t)},goSave:function(){var e=JSON.stringify(this.config);console.log(this.config);var t=new Blob([e],{type:"text/plain"}),n=document.createEvent("MouseEvents"),i=document.createElement("a");i.download=this.config.lineName+"配置文件.json",i.href=window.URL.createObjectURL(t),i.dataset.downloadurl=["text/json",i.download,i.href].join(":"),n.initEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(n)},remove:function(e,t){e.splice(t,1)},add:function(e,t){e.splice(t,0,JSON.parse(JSON.stringify(e[t])))},showDetail:function(){console.log("配置文件为:",this.config)},goRead:function(){var e=document.getElementById("fileInput"),t=new FileReader,n=this;t.onload=function(){var e=JSON.parse(t.result);console.log(e),n.config=e,n.$forceUpdate()},t.readAsText(e.files[0])}}}),p=u,d=(n("30fc"),n("2877")),f=Object(d["a"])(p,r,c,!1,null,null,null),m=f.exports,b={name:"App",components:{MainPage:m}},v=b,h=(n("034f"),Object(d["a"])(v,o,s,!1,null,null,null)),g=h.exports;i["default"].config.productionTip=!1,i["default"].use(l.a),new i["default"]({render:function(e){return e(g)}}).$mount("#app")},"5b62":function(e,t,n){e.exports=n.p+"img/logo.e8940fbe.png"},"85ec":function(e,t,n){},f94b:function(e,t,n){},fcaa:function(e,t,n){e.exports=n.p+"img/logo1356.0eeb894c.png"}});
//# sourceMappingURL=app.ec2f91c0.js.map